<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Сортируемая таблица</title>
    <style>
      table {
        margin: 0 auto;
        border-collapse: collapse;
      }
      th,
      td {
        border: 1px solid black;
        padding: 4px;
      }
      th {
        cursor: pointer;
      }
      th:hover {
        background: yellow;
      }
    </style>
  </head>

  <body>
    <table id="grid">
      <thead>
        <tr>
          <th data-type="number">Возраст</th>
          <th data-type="string">Имя</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>5</td>
          <td>Вася</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Петя</td>
        </tr>
        <tr>
          <td>12</td>
          <td>Женя</td>
        </tr>
        <tr>
          <td>9</td>
          <td>Маша</td>
        </tr>
        <tr>
          <td>1</td>
          <td>Илья</td>
        </tr>
      </tbody>
    </table>

    <script>
      const grid = document.getElementById('grid')
      const rows = Array.from(grid.querySelectorAll('tr')).slice(1)
      const headers = Array.from(grid.querySelectorAll('th'))

      let columnNumber = null

      grid.addEventListener('click', (event) => {
        if (event.target.dataset.type) {
          const type = event.target.dataset.type

          columnNumber = event.target.cellIndex

          sorting(type)
        }
      })

      function sortNumbers(prev, next) {
        const prevValue = +prev.children[columnNumber].textContent
        const nextValue = +next.children[columnNumber].textContent

        return nextValue - prevValue
      }

      function sortStrings(prev, next) {
        const prevValue = prev.children[columnNumber].textContent
        const nextValue = next.children[columnNumber].textContent

        if (prevValue > nextValue) return -1
        if (prevValue === nextValue) return 0
        if (prevValue < nextValue) return 1
      }

      function sorting(type) {
        if (type === 'number') rows.sort(sortNumbers)
        if (type === 'string') rows.sort(sortStrings)

        for (let row of rows) {
          grid.prepend(row)
        }
      }
    </script>
  </body>
</html>
