<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Календарь в виде таблицы</title>
    <style>
      table {
        border-collapse: collapse;
        margin: 0 auto;
      }

      td,
      th {
        border: 1px solid black;
        padding: 3px;
        text-align: center;
      }

      th {
        font-weight: bold;
        background-color: #e6e6e6;
      }
    </style>
  </head>
  <body>
    <div id="calendar"></div>

    <script>
      const calendar = document.getElementById('calendar')

      function createCalendar(elem, year, month) {
        const table = document.createElement('table')
        const date = new Date(year, month - 1)
        const daysInMonth = new Date(new Date(year, month) - 1).getDate()

        let dayOfMonth = 1
        let dayOfWeek = 0

        renderDaysNames(table)

        while (dayOfMonth <= daysInMonth) {
          const tr = document.createElement('tr')

          while (dayOfWeek < 7) {
            const td = document.createElement('td')

            if (dayOfMonth > daysInMonth) {
              tr.append(td)
              dayOfWeek++
              continue
            }

            if (dayOfWeek === getDay(date)) {
              td.textContent = dayOfMonth

              dayOfMonth++
              date.setDate(dayOfMonth)
            }

            dayOfWeek++

            tr.append(td)
          }

          dayOfWeek = 0

          table.append(tr)
        }

        elem.append(table)
      }

      function renderDaysNames(table) {
        const daysNames = ['ПН', 'ВТ', 'СР', 'ЧТ', 'ПТ', 'СБ', 'ВС']
        const tr = document.createElement('tr')

        for (let i = 0; i < 7; i++) {
          const th = document.createElement('th')

          th.textContent = daysNames[i]
          tr.append(th)
        }

        table.append(tr)
      }

      function getDay(date) {
        let day = date.getDay()

        if (day === 0) day = 7

        return day - 1
      }

      createCalendar(calendar, 2012, 9)
    </script>
  </body>
</html>
