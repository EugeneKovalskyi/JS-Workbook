<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Алгоритмы чисел Фибоначчи</title>
  </head>
  <body>
    <script>
      // Константная сложность, но с увеличением последовательности растет погрешность
      function fib1(n) {
        return Math.round(
          (((1 + Math.sqrt(5)) / 2) ** n - ((1 - Math.sqrt(5)) / 2) ** n) /
            Math.sqrt(5)
        )
      }

      console.log(fib1(77))

      // Линейная сложность (2N)
      function fib2(n) {
        let arr = [1, 1, 2]

        for (let i = 2; i < n; i++) {
          arr[2] = arr[0] + arr[1]
          arr[0] = arr[1]
          arr[1] = arr[2]
        }

        return arr[2]
      }

      console.log(fib2(77))

      // Экспоненциальная сложность (1.6 ** n)
      function fib3(n) {
        return n <= 1 ? n : fib3(n - 1) + fib3(n - 2)
      }

      console.log(fib3(20))
    </script>
  </body>
</html>
